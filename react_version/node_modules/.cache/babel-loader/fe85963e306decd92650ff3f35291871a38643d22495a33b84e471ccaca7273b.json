{"ast":null,"code":"var _jsxFileName = \"/Users/luoxin/Desktop/Research/Wolfer/react_version/src/pages/Domain.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../components/ui/card\";\nimport { Button } from \"../components/ui/button\";\nimport DomainForm from \"../components/DomainForm\";\nimport { useToast } from \"../components/ui/use-toast\";\nimport { Alert, AlertDescription, AlertTitle } from \"../components/ui/alert\";\nimport { InfoIcon } from \"lucide-react\";\nimport { DEFAULT_CONFIG } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Domain = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [config, setConfig] = useState(null);\n  const [error, setError] = useState(null);\n  const {\n    toast\n  } = useToast();\n  const navigate = useNavigate();\n  useEffect(() => {\n    try {\n      const savedConfig = localStorage.getItem(\"wrf_config\");\n      if (savedConfig) {\n        const parsedConfig = JSON.parse(savedConfig);\n        setConfig(parsedConfig);\n      } else {\n        // If no configuration exists, initialize with default values\n        setConfig(DEFAULT_CONFIG);\n      }\n    } catch (err) {\n      console.error(\"加载配置时出错:\", err);\n      setError(\"加载配置时出错，请刷新页面重试。\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const handleDomainSubmit = domainData => {\n    try {\n      // Update domain data in overall configuration\n      const updatedConfig = {\n        ...config,\n        domain: domainData\n      };\n\n      // Save to localStorage\n      localStorage.setItem(\"wrf_config\", JSON.stringify(updatedConfig));\n      setConfig(updatedConfig);\n      toast({\n        title: \"域设置已保存\",\n        description: \"您的域配置已成功保存。\",\n        status: \"success\"\n      });\n    } catch (err) {\n      console.error(\"保存域设置时出错:\", err);\n      toast({\n        title: \"保存失败\",\n        description: \"保存域设置时出错，请重试。\",\n        status: \"error\"\n      });\n    }\n  };\n  const handleDomainError = error => {\n    toast({\n      title: \"表单验证错误\",\n      description: error,\n      status: \"error\"\n    });\n  };\n  const handleBack = () => {\n    navigate(\"/time\");\n  };\n  const handleNext = () => {\n    navigate(\"/physics\");\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl font-medium\",\n        children: \"\\u52A0\\u8F7D\\u914D\\u7F6E\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto py-8 px-4 max-w-6xl\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold tracking-tight\",\n          children: \"\\u6A21\\u62DF\\u57DF\\u8BBE\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted-foreground mt-2\",\n          children: \"\\u5B9A\\u4E49WRF\\u6A21\\u62DF\\u7684\\u7A7A\\u95F4\\u8303\\u56F4\\u548C\\u5206\\u8FA8\\u7387\\u3002\\u8FD9\\u4E9B\\u8BBE\\u7F6E\\u5C06\\u51B3\\u5B9A\\u6A21\\u62DF\\u7684\\u8BA1\\u7B97\\u533A\\u57DF\\u548C\\u7CBE\\u5EA6\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        children: [/*#__PURE__*/_jsxDEV(InfoIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"\\u5173\\u4E8E\\u57DF\\u8BBE\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n          children: \"\\u9009\\u62E9\\u5408\\u9002\\u7684\\u6A21\\u62DF\\u533A\\u57DF\\u548C\\u5206\\u8FA8\\u7387\\u5BF9\\u4E8E\\u83B7\\u5F97\\u51C6\\u786E\\u7684\\u6A21\\u62DF\\u7ED3\\u679C\\u81F3\\u5173\\u91CD\\u8981\\u3002\\u8F83\\u9AD8\\u7684\\u5206\\u8FA8\\u7387\\u53EF\\u4EE5\\u63D0\\u4F9B\\u66F4\\u8BE6\\u7EC6\\u7684\\u6A21\\u62DF\\u7ED3\\u679C\\uFF0C\\u4F46\\u4F1A\\u589E\\u52A0\\u8BA1\\u7B97\\u6210\\u672C\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DomainForm, {\n        onSubmit: handleDomainSubmit,\n        onError: handleDomainError,\n        defaultValues: (config === null || config === void 0 ? void 0 : config.domain) || {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: handleBack,\n          children: \"\\u8FD4\\u56DE\\u65F6\\u95F4\\u8BBE\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleNext,\n          disabled: !(config !== null && config !== void 0 && config.domain),\n          children: \"\\u7EE7\\u7EED\\u7269\\u7406\\u53C2\\u6570\\u8BBE\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(Domain, \"cFY2E98R9wK+HHlgyGcEN+jx4aM=\", false, function () {\n  return [useToast, useNavigate];\n});\n_c = Domain;\nexport default Domain;\nvar _c;\n$RefreshReg$(_c, \"Domain\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","DomainForm","useToast","Alert","AlertDescription","AlertTitle","InfoIcon","DEFAULT_CONFIG","jsxDEV","_jsxDEV","Domain","_s","loading","setLoading","config","setConfig","error","setError","toast","navigate","savedConfig","localStorage","getItem","parsedConfig","JSON","parse","err","console","handleDomainSubmit","domainData","updatedConfig","domain","setItem","stringify","title","description","status","handleDomainError","handleBack","handleNext","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onError","defaultValues","variant","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/luoxin/Desktop/Research/Wolfer/react_version/src/pages/Domain.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { \n  Card, \n  CardContent, \n  CardDescription, \n  CardHeader, \n  CardTitle \n} from \"../components/ui/card\";\nimport { Button } from \"../components/ui/button\";\nimport DomainForm from \"../components/DomainForm\";\nimport { useToast } from \"../components/ui/use-toast\";\nimport { Alert, AlertDescription, AlertTitle } from \"../components/ui/alert\";\nimport { InfoIcon } from \"lucide-react\";\nimport { DEFAULT_CONFIG } from \"../utils/constants\";\n\nconst Domain = () => {\n  const [loading, setLoading] = useState(true);\n  const [config, setConfig] = useState(null);\n  const [error, setError] = useState(null);\n  const { toast } = useToast();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    try {\n      const savedConfig = localStorage.getItem(\"wrf_config\");\n      if (savedConfig) {\n        const parsedConfig = JSON.parse(savedConfig);\n        setConfig(parsedConfig);\n      } else {\n        // If no configuration exists, initialize with default values\n        setConfig(DEFAULT_CONFIG);\n      }\n    } catch (err) {\n      console.error(\"加载配置时出错:\", err);\n      setError(\"加载配置时出错，请刷新页面重试。\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleDomainSubmit = (domainData) => {\n    try {\n      // Update domain data in overall configuration\n      const updatedConfig = {\n        ...config,\n        domain: domainData\n      };\n      \n      // Save to localStorage\n      localStorage.setItem(\"wrf_config\", JSON.stringify(updatedConfig));\n      setConfig(updatedConfig);\n      \n      toast({\n        title: \"域设置已保存\",\n        description: \"您的域配置已成功保存。\",\n        status: \"success\",\n      });\n    } catch (err) {\n      console.error(\"保存域设置时出错:\", err);\n      toast({\n        title: \"保存失败\",\n        description: \"保存域设置时出错，请重试。\",\n        status: \"error\",\n      });\n    }\n  };\n\n  const handleDomainError = (error) => {\n    toast({\n      title: \"表单验证错误\",\n      description: error,\n      status: \"error\",\n    });\n  };\n\n  const handleBack = () => {\n    navigate(\"/time\");\n  };\n\n  const handleNext = () => {\n    navigate(\"/physics\");\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <p className=\"text-xl font-medium\">加载配置中...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 px-4 max-w-6xl\">\n      <div className=\"space-y-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">模拟域设置</h1>\n          <p className=\"text-muted-foreground mt-2\">\n            定义WRF模拟的空间范围和分辨率。这些设置将决定模拟的计算区域和精度。\n          </p>\n        </div>\n\n        <Alert>\n          <InfoIcon className=\"h-4 w-4\" />\n          <AlertTitle>关于域设置</AlertTitle>\n          <AlertDescription>\n            选择合适的模拟区域和分辨率对于获得准确的模拟结果至关重要。较高的分辨率可以提供更详细的模拟结果，但会增加计算成本。\n          </AlertDescription>\n        </Alert>\n\n        <DomainForm \n          onSubmit={handleDomainSubmit} \n          onError={handleDomainError}\n          defaultValues={config?.domain || {}}\n        />\n\n        <div className=\"flex justify-between mt-6\">\n          <Button \n            variant=\"outline\" \n            onClick={handleBack}\n          >\n            返回时间设置\n          </Button>\n          <Button \n            onClick={handleNext}\n            disabled={!config?.domain}\n          >\n            继续物理参数设置\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Domain; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}