# 灵犀助手

灵犀助手是沃风平台的智能问答组件，基于Google的Gemini 2.0大型语言模型，专门针对WRF配置、风资源评估和经济分析等专业领域提供支持。

## 功能特点

- 交互式聊天界面，支持实时对话
- 专业领域知识支持，包括WRF模型参数解释
- 风资源评估指标解读和建议
- 经济效益分析辅助

## 当前实现状态

目前，灵犀助手处于演示阶段，提供以下功能：

- 基础聊天界面
- 预设对话示例
- 模拟API响应（尚未连接到实际Gemini API）

## 后续开发计划

1. **后端集成**
   - 创建Node.js代理服务器，安全处理与Gemini API的通信
   - 实现消息流式传输
   - 添加用户聊天历史记录

2. **功能扩展**
   - 添加上下文感知能力，能够引用当前WRF配置
   - 支持图像分析功能，帮助解读WRF模拟结果
   - 添加导出对话记录功能

3. **UI/UX优化**
   - 支持代码和Markdown渲染
   - 添加响应评分和反馈机制
   - 优化移动端体验

## 集成规范

1. **API通信规范**
   请求格式:
   ```json
   {
     "prompt": "用户消息",
     "history": [
       {"role": "user", "content": "历史消息1"},
       {"role": "assistant", "content": "历史回复1"}
     ]
   }
   ```

   响应格式:
   ```json
   {
     "role": "assistant",
     "content": "助手回复内容"
   }
   ```

2. **组件集成**
   灵犀助手遵循沃风平台的整体设计风格，使用相同的色彩主题和组件库。

## 生产环境部署注意事项

1. API密钥管理
   - **重要**: Gemini API密钥必须安全存储在服务器端
   - 禁止在前端代码中包含API密钥
   - 使用环境变量管理敏感信息

2. 错误处理
   - 实现重试机制
   - 添加适当的错误界面
   - 记录API调用错误以便调试

3. 性能优化
   - 实现消息列表虚拟化，支持长对话
   - 消息缓存策略
   - 带宽和API调用成本优化

## 快速启动指南

1. 检查项目依赖
   ```bash
   npm install
   ```

2. 在开发环境中启动
   ```bash
   npm run dev
   ```

3. 访问灵犀助手
   打开浏览器访问 http://localhost:3000/lingxi-assistant

## 联系与支持

如有任何关于灵犀助手的问题或建议，请联系项目开发团队。 